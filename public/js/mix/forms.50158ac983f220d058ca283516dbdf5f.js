function randString(t){for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!.-%&*$@",i="",n=0;n<t;n++)i+=e.charAt(Math.floor(Math.random()*e.length));return i}!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(t){"use strict";function e(t){return"number"==typeof t&&!ot(t)}function i(t){return void 0===t}function n(t,e){for(var i=arguments.length,n=Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];return function(){for(var i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];return t.apply(e,n.concat(o))}}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return st.test(t)?Math.round(t*e)/e:t}function r(t){var e=t.match(lt);return e&&(e[1]!==at.protocol||e[2]!==at.hostname||e[3]!==at.port)}function s(t){var e="timestamp="+(new Date).getTime();return t+(-1===t.indexOf("?")?"?":"&")+e}function a(t){var i=t.rotate,n=t.scaleX,o=t.scaleY,r=t.translateX,s=t.translateY,a=[];return e(r)&&0!==r&&a.push("translateX("+r+"px)"),e(s)&&0!==s&&a.push("translateY("+s+"px)"),e(i)&&0!==i&&a.push("rotate("+i+"deg)"),e(n)&&1!==n&&a.push("scaleX("+n+")"),e(o)&&1!==o&&a.push("scaleY("+o+")"),a.length?a.join(" "):"none"}function l(e,i){var n=e.pageX,o=e.pageY,r={endX:n,endY:o};return i?r:t.extend({startX:n,startY:o},r)}function c(t){var e=t.aspectRatio,i=t.height,n=t.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",r=function(t){return dt(t)&&t>0};if(r(n)&&r(i)){var s=i*e;"contain"===o&&s>n||"cover"===o&&s<n?i=n/e:n=i*e}else r(n)?i=n/e:r(i)&&(n=i*e);return{width:n,height:i}}function h(t){var e=new DataView(t),i=void 0,n=void 0,o=void 0,r=void 0;if(255===e.getUint8(0)&&216===e.getUint8(1))for(var s=e.byteLength,a=2;a<s;){if(255===e.getUint8(a)&&225===e.getUint8(a+1)){o=a;break}a+=1}if(o){var l=o+10;if("Exif"===function(t,e,i){var n="",o=void 0;for(i+=e,o=e;o<i;o+=1)n+=ut(t.getUint8(o));return n}(e,o+4,4)){var c=e.getUint16(l);if(((n=18761===c)||19789===c)&&42===e.getUint16(l+2,n)){var h=e.getUint32(l+4,n);h>=8&&(r=l+h)}}}if(r){var d=e.getUint16(r,n),u=void 0,p=void 0;for(p=0;p<d;p+=1)if(u=r+12*p+2,274===e.getUint16(u,n)){u+=8,i=e.getUint16(u,n),e.setUint16(u,1,n);break}}return i}t=t&&t.hasOwnProperty("default")?t.default:t;var d="undefined"!=typeof window?window:{},u="cropper",p="all",f="crop",g="move",m="zoom",v="e",y="w",w="s",b="n",x="ne",$="nw",C="se",_="sw",E=u+"-crop",A=u+"-disabled",D=u+"-hidden",k=u+"-hide",S=u+"-modal",T=u+"-move",M="action",O="preview",L="crop",j="move",q="none",B="crop",I="cropend",P="cropmove",R="cropstart",H="dblclick",F="error",U="load",N=d.PointerEvent?"pointerdown":"touchstart mousedown",z=d.PointerEvent?"pointermove":"touchmove mousemove",W=d.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",Y="ready",X="resize",G="wheel mousewheel DOMMouseScroll",K="zoom",Z=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,Q=/^data:/,V=/^data:image\/jpeg;base64,/,J=/^(img|canvas)$/i,tt={viewMode:0,dragMode:L,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},et=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},it=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),nt=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)},ot=Number.isNaN||d.isNaN,rt=Object.keys||function(e){var i=[];return t.each(e,function(t){i.push(t)}),i},st=/\.\d*(?:0|9){12}\d*$/i,at=d.location,lt=/^(https?:)\/\/([^:\/?#]+):?(\d*)/i,ct=d.navigator,ht=ct&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(ct.userAgent),dt=Number.isFinite||d.isFinite,ut=String.fromCharCode,pt=/^data:.*,/,ft={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.$element,e=this.options,i=this.$container,n=this.$cropper;n.addClass(D),t.removeClass(D),n.css(this.container={width:Math.max(i.width(),Number(e.minContainerWidth)||200),height:Math.max(i.height(),Number(e.minContainerHeight)||100)}),t.addClass(D),n.removeClass(D)},initCanvas:function(){var e=this.container,i=this.image,n=this.options.viewMode,o=Math.abs(i.rotate)%180==90,r=o?i.naturalHeight:i.naturalWidth,s=o?i.naturalWidth:i.naturalHeight,a=r/s,l=e.width,c=e.height;e.height*a>e.width?3===n?l=e.height*a:c=e.width/a:3===n?c=e.width/a:l=e.height*a;var h={aspectRatio:a,naturalWidth:r,naturalHeight:s,width:l,height:c};h.left=(e.width-l)/2,h.top=(e.height-c)/2,h.oldLeft=h.left,h.oldTop=h.top,this.canvas=h,this.limited=1===n||2===n,this.limitCanvas(!0,!0),this.initialImage=t.extend({},i),this.initialCanvas=t.extend({},h)},limitCanvas:function(t,e){var i=this.options,n=this.container,o=this.canvas,r=this.cropBox,s=i.viewMode,a=o.aspectRatio,l=this.cropped&&r;if(t){var h=Number(i.minCanvasWidth)||0,d=Number(i.minCanvasHeight)||0;s>0&&(s>1?(h=Math.max(h,n.width),d=Math.max(d,n.height),3===s&&(d*a>h?h=d*a:d=h/a)):h?h=Math.max(h,l?r.width:0):d?d=Math.max(d,l?r.height:0):l&&(h=r.width,(d=r.height)*a>h?h=d*a:d=h/a));var u=c({aspectRatio:a,width:h,height:d});h=u.width,d=u.height,o.minWidth=h,o.minHeight=d,o.maxWidth=1/0,o.maxHeight=1/0}if(e)if(s>0){var p=n.width-o.width,f=n.height-o.height;o.minLeft=Math.min(0,p),o.minTop=Math.min(0,f),o.maxLeft=Math.max(0,p),o.maxTop=Math.max(0,f),l&&this.limited&&(o.minLeft=Math.min(r.left,r.left+r.width-o.width),o.minTop=Math.min(r.top,r.top+r.height-o.height),o.maxLeft=r.left,o.maxTop=r.top,2===s&&(o.width>=n.width&&(o.minLeft=Math.min(0,p),o.maxLeft=Math.max(0,p)),o.height>=n.height&&(o.minTop=Math.min(0,f),o.maxTop=Math.max(0,f))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=n.width,o.maxTop=n.height},renderCanvas:function(t,e){var i=this.canvas,n=this.image;if(e){var o=function(t){var e=t.width,i=t.height,n=t.degree;if(90==(n=Math.abs(n)%180))return{width:i,height:e};var o=n%90*Math.PI/180,r=Math.sin(o),s=Math.cos(o),a=e*s+i*r,l=e*r+i*s;return n>90?{width:l,height:a}:{width:a,height:l}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),r=o.width,s=o.height,l=i.width*(r/i.naturalWidth),c=i.height*(s/i.naturalHeight);i.left-=(l-i.width)/2,i.top-=(c-i.height)/2,i.width=l,i.height=c,i.aspectRatio=r/s,i.naturalWidth=r,i.naturalHeight=s,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,this.$canvas.css({width:i.width,height:i.height,transform:a({translateX:i.left,translateY:i.top})}),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var i=this.canvas,n=this.image,o=n.naturalWidth*(i.width/i.naturalWidth),r=n.naturalHeight*(i.height/i.naturalHeight);t.extend(n,{width:o,height:r,left:(i.width-o)/2,top:(i.height-r)/2}),this.$clone.css({width:n.width,height:n.height,transform:a(t.extend({translateX:n.left,translateY:n.top},n))}),e&&this.output()},initCropBox:function(){var e=this.options,i=this.canvas,n=e.aspectRatio,o=Number(e.autoCropArea)||.8,r={width:i.width,height:i.height};n&&(i.height*n>i.width?r.height=r.width/n:r.width=r.height*n),this.cropBox=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*o),r.height=Math.max(r.minHeight,r.height*o),r.left=i.left+(i.width-r.width)/2,r.top=i.top+(i.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBox=t.extend({},r)},limitCropBox:function(t,e){var i=this.options,n=this.container,o=this.canvas,r=this.cropBox,s=this.limited,a=i.aspectRatio;if(t){var l=Number(i.minCropBoxWidth)||0,c=Number(i.minCropBoxHeight)||0,h=Math.min(n.width,s?o.width:n.width),d=Math.min(n.height,s?o.height:n.height);l=Math.min(l,n.width),c=Math.min(c,n.height),a&&(l&&c?c*a>l?c=l/a:l=c*a:l?c=l/a:c&&(l=c*a),d*a>h?d=h/a:h=d*a),r.minWidth=Math.min(l,h),r.minHeight=Math.min(c,d),r.maxWidth=h,r.maxHeight=d}e&&(s?(r.minLeft=Math.max(0,o.left),r.minTop=Math.max(0,o.top),r.maxLeft=Math.min(n.width,o.left+o.width)-r.width,r.maxTop=Math.min(n.height,o.top+o.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=n.width-r.width,r.maxTop=n.height-r.height))},renderCropBox:function(){var t=this.options,e=this.container,i=this.cropBox;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&this.$face.data(M,i.width>=e.width&&i.height>=e.height?g:p),this.$cropBox.css({width:i.width,height:i.height,transform:a({translateX:i.left,translateY:i.top})}),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),this.completed&&this.trigger(B,this.getData())}},gt={initPreview:function(){var e=this.crossOrigin,i=e?this.crossOriginUrl:this.url,n=document.createElement("img");e&&(n.crossOrigin=e),n.src=i;var o=t(n);this.$preview=t(this.options.preview),this.$clone2=o,this.$viewBox.html(o),this.$preview.each(function(n,o){var r=t(o),s=document.createElement("img");r.data(O,{width:r.width(),height:r.height(),html:r.html()}),e&&(s.crossOrigin=e),s.src=i,s.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',r.html(s)})},resetPreview:function(){this.$preview.each(function(e,i){var n=t(i),o=n.data(O);n.css({width:o.width,height:o.height}).html(o.html).removeData(O)})},preview:function(){var e=this.image,i=this.canvas,n=this.cropBox,o=n.width,r=n.height,s=e.width,l=e.height,c=n.left-i.left-e.left,h=n.top-i.top-e.top;this.cropped&&!this.disabled&&(this.$clone2.css({width:s,height:l,transform:a(t.extend({translateX:-c,translateY:-h},e))}),this.$preview.each(function(i,n){var d=t(n),u=d.data(O),p=u.width,f=u.height,g=p,m=f,v=1;o&&(m=r*(v=p/o)),r&&m>f&&(g=o*(v=f/r),m=f),d.css({width:g,height:m}).find("img").css({width:s*v,height:l*v,transform:a(t.extend({translateX:-c*v,translateY:-h*v},e))})}))}},mt={bind:function(){var e=this.$element,i=this.options,o=this.$cropper;t.isFunction(i.cropstart)&&e.on(R,i.cropstart),t.isFunction(i.cropmove)&&e.on(P,i.cropmove),t.isFunction(i.cropend)&&e.on(I,i.cropend),t.isFunction(i.crop)&&e.on(B,i.crop),t.isFunction(i.zoom)&&e.on(K,i.zoom),o.on(N,n(this.cropStart,this)),i.zoomable&&i.zoomOnWheel&&o.on(G,n(this.wheel,this)),i.toggleDragModeOnDblclick&&o.on(H,n(this.dblclick,this)),t(this.element.ownerDocument).on(z,this.onCropMove=n(this.cropMove,this)).on(W,this.onCropEnd=n(this.cropEnd,this)),i.responsive&&t(window).on(X,this.onResize=n(this.resize,this))},unbind:function(){var e=this.$element,i=this.options,n=this.$cropper;t.isFunction(i.cropstart)&&e.off(R,i.cropstart),t.isFunction(i.cropmove)&&e.off(P,i.cropmove),t.isFunction(i.cropend)&&e.off(I,i.cropend),t.isFunction(i.crop)&&e.off(B,i.crop),t.isFunction(i.zoom)&&e.off(K,i.zoom),n.off(N,this.cropStart),i.zoomable&&i.zoomOnWheel&&n.off(G,this.wheel),i.toggleDragModeOnDblclick&&n.off(H,this.dblclick),t(this.element.ownerDocument).off(z,this.onCropMove).off(W,this.onCropEnd),i.responsive&&t(window).off(X,this.onResize)}},vt={resize:function(){var e=this.options,i=this.$container,n=this.container,o=Number(e.minContainerWidth)||200,r=Number(e.minContainerHeight)||100;if(!(this.disabled||n.width<=o||n.height<=r)){var s=i.width()/n.width;if(1!==s||i.height()!==n.height){var a=void 0,l=void 0;e.restore&&(a=this.getCanvasData(),l=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(t.each(a,function(t,e){a[t]=e*s})),this.setCropBoxData(t.each(l,function(t,e){l[t]=e*s})))}}},dblclick:function(){this.disabled||this.options.dragMode===q||this.setDragMode(this.$dragBox.hasClass(E)?j:L)},wheel:function(t){var e=this,i=t.originalEvent||t,n=Number(this.options.wheelZoomRatio)||.1;if(!this.disabled&&(t.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50);var o=1;i.deltaY?o=i.deltaY>0?1:-1:i.wheelDelta?o=-i.wheelDelta/120:i.detail&&(o=i.detail>0?1:-1),this.zoom(-o*n,t)}},cropStart:function(e){if(!this.disabled){var i=this.options,n=this.pointers,o=e.originalEvent,r=void 0;o&&o.changedTouches?t.each(o.changedTouches,function(t,e){n[e.identifier]=l(e)}):n[o&&o.pointerId||0]=l(o||e),r=rt(n).length>1&&i.zoomable&&i.zoomOnTouch?m:t(e.target).data(M),Z.test(r)&&(this.trigger(R,{originalEvent:o,action:r}).isDefaultPrevented()||(e.preventDefault(),this.action=r,this.cropping=!1,r===f&&(this.cropping=!0,this.$dragBox.addClass(S))))}},cropMove:function(e){var i=this.action;if(!this.disabled&&i){var n=this.pointers,o=e.originalEvent;e.preventDefault(),this.trigger(P,{originalEvent:o,action:i}).isDefaultPrevented()||(o&&o.changedTouches?t.each(o.changedTouches,function(e,i){t.extend(n[i.identifier],l(i,!0))}):t.extend(n[o&&o.pointerId||0],l(o||e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var i=this.action,n=this.pointers,o=e.originalEvent;o&&o.changedTouches?t.each(o.changedTouches,function(t,e){delete n[e.identifier]}):delete n[o&&o.pointerId||0],i&&(e.preventDefault(),rt(n).length||(this.action=""),this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass(S,this.cropped&&this.options.modal)),this.trigger(I,{originalEvent:o,action:i}))}}},yt={change:function(e){var i=this.options,n=this.pointers,o=this.container,r=this.canvas,s=this.cropBox,a=this.action,l=i.aspectRatio,c=s.left,h=s.top,d=s.width,u=s.height,E=c+d,A=h+u,k=0,S=0,T=o.width,M=o.height,O=!0,L=void 0;!l&&e.shiftKey&&(l=d&&u?d/u:1),this.limited&&(k=s.minLeft,S=s.minTop,T=k+Math.min(o.width,r.width,r.left+r.width),M=S+Math.min(o.height,r.height,r.top+r.height));var j,q,B,I=n[rt(n)[0]],P={x:I.endX-I.startX,y:I.endY-I.startY},R=function(t){switch(t){case v:E+P.x>T&&(P.x=T-E);break;case y:c+P.x<k&&(P.x=k-c);break;case b:h+P.y<S&&(P.y=S-h);break;case w:A+P.y>M&&(P.y=M-A)}};switch(a){case p:c+=P.x,h+=P.y;break;case v:if(P.x>=0&&(E>=T||l&&(h<=S||A>=M))){O=!1;break}R(v),d+=P.x,l&&(u=d/l,h-=P.x/l/2),d<0&&(a=y,d=0);break;case b:if(P.y<=0&&(h<=S||l&&(c<=k||E>=T))){O=!1;break}R(b),u-=P.y,h+=P.y,l&&(d=u*l,c+=P.y*l/2),u<0&&(a=w,u=0);break;case y:if(P.x<=0&&(c<=k||l&&(h<=S||A>=M))){O=!1;break}R(y),d-=P.x,c+=P.x,l&&(u=d/l,h+=P.x/l/2),d<0&&(a=v,d=0);break;case w:if(P.y>=0&&(A>=M||l&&(c<=k||E>=T))){O=!1;break}R(w),u+=P.y,l&&(d=u*l,c-=P.y*l/2),u<0&&(a=b,u=0);break;case x:if(l){if(P.y<=0&&(h<=S||E>=T)){O=!1;break}R(b),u-=P.y,h+=P.y,d=u*l}else R(b),R(v),P.x>=0?E<T?d+=P.x:P.y<=0&&h<=S&&(O=!1):d+=P.x,P.y<=0?h>S&&(u-=P.y,h+=P.y):(u-=P.y,h+=P.y);d<0&&u<0?(a=_,u=0,d=0):d<0?(a=$,d=0):u<0&&(a=C,u=0);break;case $:if(l){if(P.y<=0&&(h<=S||c<=k)){O=!1;break}R(b),u-=P.y,h+=P.y,d=u*l,c+=P.y*l}else R(b),R(y),P.x<=0?c>k?(d-=P.x,c+=P.x):P.y<=0&&h<=S&&(O=!1):(d-=P.x,c+=P.x),P.y<=0?h>S&&(u-=P.y,h+=P.y):(u-=P.y,h+=P.y);d<0&&u<0?(a=C,u=0,d=0):d<0?(a=x,d=0):u<0&&(a=_,u=0);break;case _:if(l){if(P.x<=0&&(c<=k||A>=M)){O=!1;break}R(y),d-=P.x,c+=P.x,u=d/l}else R(w),R(y),P.x<=0?c>k?(d-=P.x,c+=P.x):P.y>=0&&A>=M&&(O=!1):(d-=P.x,c+=P.x),P.y>=0?A<M&&(u+=P.y):u+=P.y;d<0&&u<0?(a=x,u=0,d=0):d<0?(a=C,d=0):u<0&&(a=$,u=0);break;case C:if(l){if(P.x>=0&&(E>=T||A>=M)){O=!1;break}R(v),u=(d+=P.x)/l}else R(w),R(v),P.x>=0?E<T?d+=P.x:P.y>=0&&A>=M&&(O=!1):d+=P.x,P.y>=0?A<M&&(u+=P.y):u+=P.y;d<0&&u<0?(a=$,u=0,d=0):d<0?(a=_,d=0):u<0&&(a=x,u=0);break;case g:this.move(P.x,P.y),O=!1;break;case m:this.zoom((j=n,q=t.extend({},j),B=[],t.each(j,function(e,i){delete q[e],t.each(q,function(t,e){var n=Math.abs(i.startX-e.startX),o=Math.abs(i.startY-e.startY),r=Math.abs(i.endX-e.endX),s=Math.abs(i.endY-e.endY),a=Math.sqrt(n*n+o*o),l=(Math.sqrt(r*r+s*s)-a)/a;B.push(l)})}),B.sort(function(t,e){return Math.abs(t)<Math.abs(e)}),B[0]),e.originalEvent),O=!1;break;case f:if(!P.x||!P.y){O=!1;break}L=this.$cropper.offset(),c=I.startX-L.left,h=I.startY-L.top,d=s.minWidth,u=s.minHeight,P.x>0?a=P.y>0?C:x:P.x<0&&(c-=d,a=P.y>0?_:$),P.y<0&&(h-=u),this.cropped||(this.$cropBox.removeClass(D),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}O&&(s.width=d,s.height=u,s.left=c,s.top=h,this.action=a,this.renderCropBox()),t.each(n,function(t,e){e.startX=e.endX,e.startY=e.endY})}},wt={crop:function(){this.ready&&!this.disabled&&(this.cropped||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&this.$dragBox.addClass(S),this.$cropBox.removeClass(D)),this.setCropBoxData(this.initialCropBox))},reset:function(){this.ready&&!this.disabled&&(this.image=t.extend({},this.initialImage),this.canvas=t.extend({},this.initialCanvas),this.cropBox=t.extend({},this.initialCropBox),this.renderCanvas(),this.cropped&&this.renderCropBox())},clear:function(){this.cropped&&!this.disabled&&(t.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),this.$dragBox.removeClass(S),this.$cropBox.addClass(D))},replace:function(t,e){!this.disabled&&t&&(this.isImg&&this.$element.attr("src",t),e?(this.url=t,this.$clone.attr("src",t),this.ready&&this.$preview.find("img").add(this.$clone2).attr("src",t)):(this.isImg&&(this.replaced=!0),this.options.data=null,this.load(t)))},enable:function(){this.ready&&(this.disabled=!1,this.$cropper.removeClass(A))},disable:function(){this.ready&&(this.disabled=!0,this.$cropper.addClass(A))},destroy:function(){var t=this.$element;this.loaded?(this.isImg&&this.replaced&&t.attr("src",this.originalUrl),this.unbuild(),t.removeClass(D)):this.isImg?t.off(U,this.start):this.$clone&&this.$clone.remove(),t.removeData(u)},move:function(t,e){var n=this.canvas,o=n.left,r=n.top;this.moveTo(i(t)?t:o+Number(t),i(e)?e:r+Number(e))},moveTo:function(t,n){var o=this.canvas,r=!1;i(n)&&(n=t),t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(e(t)&&(o.left=t,r=!0),e(n)&&(o.top=n,r=!0),r&&this.renderCanvas(!0))},zoom:function(t,e){var i=this.canvas;t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,e)},zoomTo:function(e,i){var n,o,r,s,a=this.options,l=this.pointers,c=this.canvas,h=c.width,d=c.height,u=c.naturalWidth,p=c.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&a.zoomable){var f=u*e,g=p*e,m=void 0;if(i&&(m=i.originalEvent),this.trigger(K,{originalEvent:m,oldRatio:h/u,ratio:f/u}).isDefaultPrevented())return;if(m){var v=this.$cropper.offset(),y=l&&rt(l).length?(n=l,o=0,r=0,s=0,t.each(n,function(t,e){var i=e.startX,n=e.startY;o+=i,r+=n,s+=1}),{pageX:o/=s,pageY:r/=s}):{pageX:i.pageX||m.pageX||0,pageY:i.pageY||m.pageY||0};c.left-=(f-h)*((y.pageX-v.left-c.left)/h),c.top-=(g-d)*((y.pageY-v.top-c.top)/d)}else c.left-=(f-h)/2,c.top-=(g-d)/2;c.width=f,c.height=g,this.renderCanvas(!0)}},rotate:function(t){this.rotateTo((this.image.rotate||0)+Number(t))},rotateTo:function(t){e(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.image.rotate=t%360,this.renderCanvas(!0,!0))},scaleX:function(t){var i=this.image.scaleY;this.scale(t,e(i)?i:1)},scaleY:function(t){var i=this.image.scaleX;this.scale(e(i)?i:1,t)},scale:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.image,o=!1;t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.scalable&&(e(t)&&(n.scaleX=t,o=!0),e(i)&&(n.scaleY=i,o=!0),o&&this.renderCanvas(!0,!0))},getData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,n=this.image,o=this.canvas,r=this.cropBox,s=void 0;if(this.ready&&this.cropped){s={x:r.left-o.left,y:r.top-o.top,width:r.width,height:r.height};var a=n.width/n.naturalWidth;t.each(s,function(t,i){i/=a,s[t]=e?Math.round(i):i})}else s={x:0,y:0,width:0,height:0};return i.rotatable&&(s.rotate=n.rotate||0),i.scalable&&(s.scaleX=n.scaleX||1,s.scaleY=n.scaleY||1),s},setData:function(i){var n=this.options,o=this.image,r=this.canvas,s={};if(t.isFunction(i)&&(i=i.call(this.element)),this.ready&&!this.disabled&&t.isPlainObject(i)){var a=!1;n.rotatable&&e(i.rotate)&&i.rotate!==o.rotate&&(o.rotate=i.rotate,a=!0),n.scalable&&(e(i.scaleX)&&i.scaleX!==o.scaleX&&(o.scaleX=i.scaleX,a=!0),e(i.scaleY)&&i.scaleY!==o.scaleY&&(o.scaleY=i.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var l=o.width/o.naturalWidth;e(i.x)&&(s.left=i.x*l+r.left),e(i.y)&&(s.top=i.y*l+r.top),e(i.width)&&(s.width=i.width*l),e(i.height)&&(s.height=i.height*l),this.setCropBoxData(s)}},getContainerData:function(){return this.ready?t.extend({},this.container):{}},getImageData:function(){return this.loaded?t.extend({},this.image):{}},getCanvasData:function(){var e=this.canvas,i={};return this.ready&&t.each(["left","top","width","height","naturalWidth","naturalHeight"],function(t,n){i[n]=e[n]}),i},setCanvasData:function(i){var n=this.canvas,o=n.aspectRatio;t.isFunction(i)&&(i=i.call(this.$element)),this.ready&&!this.disabled&&t.isPlainObject(i)&&(e(i.left)&&(n.left=i.left),e(i.top)&&(n.top=i.top),e(i.width)?(n.width=i.width,n.height=i.width/o):e(i.height)&&(n.height=i.height,n.width=i.height*o),this.renderCanvas(!0))},getCropBoxData:function(){var t=this.cropBox;return this.ready&&this.cropped?{left:t.left,top:t.top,width:t.width,height:t.height}:{}},setCropBoxData:function(i){var n=this.cropBox,o=this.options.aspectRatio,r=void 0,s=void 0;t.isFunction(i)&&(i=i.call(this.$element)),this.ready&&this.cropped&&!this.disabled&&t.isPlainObject(i)&&(e(i.left)&&(n.left=i.left),e(i.top)&&(n.top=i.top),e(i.width)&&i.width!==n.width&&(r=!0,n.width=i.width),e(i.height)&&i.height!==n.height&&(s=!0,n.height=i.height),o&&(r?n.height=n.width/o:s&&(n.width=n.height*o)),this.renderCropBox())},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var i,n,r,s,a,l,h,d,u,p,f,g,m,v,y,w,b,x,$,C,_,E,A,D,k,S,T,M,O,L,j,q,B,I,P=this.canvas,R=(i=this.$clone[0],n=this.image,r=P,s=e,a=n.rotate,l=void 0===a?0:a,h=n.scaleX,d=void 0===h?1:h,u=n.scaleY,p=void 0===u?1:u,f=r.aspectRatio,g=r.naturalWidth,m=r.naturalHeight,v=s.fillColor,y=void 0===v?"transparent":v,w=s.imageSmoothingEnabled,b=void 0===w||w,x=s.imageSmoothingQuality,$=void 0===x?"low":x,C=s.maxWidth,_=void 0===C?1/0:C,E=s.maxHeight,A=void 0===E?1/0:E,D=s.minWidth,k=void 0===D?0:D,S=s.minHeight,T=void 0===S?0:S,M=document.createElement("canvas"),O=M.getContext("2d"),L=c({aspectRatio:f,width:_,height:A}),j=c({aspectRatio:f,width:k,height:T},"cover"),q=Math.min(L.width,Math.max(j.width,g)),B=Math.min(L.height,Math.max(j.height,m)),I=[-q/2,-B/2,q,B],M.width=o(q),M.height=o(B),O.fillStyle=y,O.fillRect(0,0,q,B),O.save(),O.translate(q/2,B/2),O.rotate(l*Math.PI/180),O.scale(d,p),O.imageSmoothingEnabled=b,O.imageSmoothingQuality=$,O.drawImage.apply(O,[i].concat(nt(t.map(I,function(t){return Math.floor(o(t))})))),O.restore(),M);if(!this.cropped)return R;var H=this.getData(),F=H.x,U=H.y,N=H.width,z=H.height,W=R.width/Math.floor(P.naturalWidth);1!==W&&(F*=W,U*=W,N*=W,z*=W);var Y=N/z,X=c({aspectRatio:Y,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),G=c({aspectRatio:Y,width:e.minWidth||0,height:e.minHeight||0},"cover"),K=c({aspectRatio:Y,width:e.width||(1!==W?R.width:N),height:e.height||(1!==W?R.height:z)}),Z=K.width,Q=K.height;Z=Math.min(X.width,Math.max(G.width,Z)),Q=Math.min(X.height,Math.max(G.height,Q));var V=document.createElement("canvas"),J=V.getContext("2d");V.width=o(Z),V.height=o(Q),J.fillStyle=e.fillColor||"transparent",J.fillRect(0,0,Z,Q);var tt=e.imageSmoothingEnabled,et=void 0===tt||tt,it=e.imageSmoothingQuality;J.imageSmoothingEnabled=et,it&&(J.imageSmoothingQuality=it);var ot=R.width,rt=R.height,st=F,at=U,lt=void 0,ct=void 0,ht=void 0,dt=void 0,ut=void 0,pt=void 0;st<=-N||st>ot?(st=0,lt=0,ht=0,ut=0):st<=0?(ht=-st,st=0,ut=lt=Math.min(ot,N+st)):st<=ot&&(ht=0,ut=lt=Math.min(N,ot-st)),lt<=0||at<=-z||at>rt?(at=0,ct=0,dt=0,pt=0):at<=0?(dt=-at,at=0,pt=ct=Math.min(rt,z+at)):at<=rt&&(dt=0,pt=ct=Math.min(z,rt-at));var ft=[st,at,lt,ct];if(ut>0&&pt>0){var gt=Z/N;ft.push(ht*gt,dt*gt,ut*gt,pt*gt)}return J.drawImage.apply(J,[R].concat(nt(t.map(ft,function(t){return Math.floor(o(t))})))),V},setAspectRatio:function(t){var e=this.options;this.disabled||i(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox()))},setDragMode:function(t){var e=this.options,i=void 0,n=void 0;this.loaded&&!this.disabled&&(i=t===L,n=e.movable&&t===j,t=i||n?t:q,this.$dragBox.data(M,t).toggleClass(E,i).toggleClass(T,n),e.cropBoxMovable||this.$face.data(M,t).toggleClass(E,i).toggleClass(T,n))}},bt=function(){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(et(this,e),!i||!J.test(i.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=i,this.$element=t(i),this.options=t.extend({},tt,t.isPlainObject(n)&&n),this.completed=!1,this.cropped=!1,this.disabled=!1,this.isImg=!1,this.limited=!1,this.loaded=!1,this.ready=!1,this.replaced=!1,this.wheeling=!1,this.originalUrl="",this.canvas=null,this.cropBox=null,this.pointers={},this.init()}return it(e,[{key:"init",value:function(){var t=this.$element,e=void 0;if(t.is("img")){if(this.isImg=!0,e=t.attr("src")||"",this.originalUrl=e,!e)return;e=t.prop("src")}else t.is("canvas")&&window.HTMLCanvasElement&&(e=t[0].toDataURL());this.load(e)}},{key:"trigger",value:function(e,i){var n=t.Event(e,i);return this.$element.trigger(n),n}},{key:"load",value:function(e){var i=this;if(e){this.url=e,this.image={};var n=this.$element,o=this.options;if(o.checkOrientation&&window.ArrayBuffer)if(Q.test(e))V.test(e)?this.read((a=e.replace(pt,""),l=atob(a),c=new ArrayBuffer(l.length),h=new Uint8Array(c),t.each(h,function(t){h[t]=l.charCodeAt(t)}),c)):this.clone();else{var a,l,c,h,d=new XMLHttpRequest;d.onerror=function(){i.clone()},d.onload=function(){i.read(d.response)},o.checkCrossOrigin&&r(e)&&!n.prop("crossOrigin")&&(e=s(e)),d.open("get",e),d.responseType="arraybuffer",d.withCredentials="use-credentials"===n.prop("crossOrigin"),d.send()}else this.clone()}}},{key:"read",value:function(e){var i,n,o,r=this.options,s=this.image,a=h(e),l=0,c=1,d=1;if(a>1){this.url=(i="image/jpeg",n=new Uint8Array(e),o="",t.each(n,function(t,e){o+=ut(e)}),"data:"+i+";base64,"+btoa(o));var u=function(t){var e=0,i=1,n=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:n}}(a);l=u.rotate,c=u.scaleX,d=u.scaleY}r.rotatable&&(s.rotate=l),r.scalable&&(s.scaleX=c,s.scaleY=d),this.clone()}},{key:"clone",value:function(){var e=this.$element,i=this.options,n=this.url,o="",a=void 0;i.checkCrossOrigin&&r(n)&&((o=e.prop("crossOrigin"))?a=n:(o="anonymous",a=s(n))),this.crossOrigin=o,this.crossOriginUrl=a;var l=document.createElement("img");o&&(l.crossOrigin=o),l.src=a||n;var c=t(l);this.$clone=c,this.isImg?this.element.complete?this.start():e.one(U,t.proxy(this.start,this)):c.one(U,t.proxy(this.start,this)).one(F,t.proxy(this.stop,this)).addClass(k).insertAfter(e)}},{key:"start",value:function(){var e=this,i=this.$clone,n=this.$element;this.isImg||(i.off(F,this.stop),n=i),function(t,e){if(!t.naturalWidth||ht){var i=document.createElement("img");i.onload=function(){e(i.width,i.height)},i.src=t.src}else e(t.naturalWidth,t.naturalHeight)}(n[0],function(i,n){t.extend(e.image,{naturalWidth:i,naturalHeight:n,aspectRatio:i/n}),e.loaded=!0,e.build()})}},{key:"stop",value:function(){this.$clone.remove(),this.$clone=null}},{key:"build",value:function(){var e=this;if(this.loaded){this.ready&&this.unbuild();var i=this.$element,n=this.options,o=this.$clone,r=t('<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>'),s=r.find("."+u+"-crop-box"),a=s.find("."+u+"-face");this.$container=i.parent(),this.$cropper=r,this.$canvas=r.find("."+u+"-canvas").append(o),this.$dragBox=r.find("."+u+"-drag-box"),this.$cropBox=s,this.$viewBox=r.find("."+u+"-view-box"),this.$face=a,i.addClass(D).after(r),this.isImg||o.removeClass(k),this.initPreview(),this.bind(),n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,this.cropped=n.autoCrop,n.autoCrop?n.modal&&this.$dragBox.addClass(S):s.addClass(D),n.guides||s.find("."+u+"-dashed").addClass(D),n.center||s.find("."+u+"-center").addClass(D),n.cropBoxMovable&&a.addClass(T).data(M,p),n.highlight||a.addClass("cropper-invisible"),n.background&&r.addClass(u+"-bg"),n.cropBoxResizable||s.find("."+u+"-line,."+u+"-point").addClass(D),this.setDragMode(n.dragMode),this.render(),this.ready=!0,this.setData(n.data),this.completing=setTimeout(function(){t.isFunction(n.ready)&&i.one(Y,n.ready),e.trigger(Y),e.trigger(B,e.getData()),e.completed=!0},0)}}},{key:"unbuild",value:function(){this.ready&&(this.completed||clearTimeout(this.completing),this.ready=!1,this.completed=!1,this.initialImage=null,this.initialCanvas=null,this.initialCropBox=null,this.container=null,this.canvas=null,this.cropBox=null,this.unbind(),this.resetPreview(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)}}],[{key:"setDefaults",value:function(e){t.extend(tt,t.isPlainObject(e)&&e)}}]),e}();if(t.extend&&t.extend(bt.prototype,ft,gt,mt,vt,yt,wt),t.fn){var xt=t.fn.cropper;t.fn.cropper=function(e){for(var n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];var s=void 0;return this.each(function(i,n){var r=t(n),a=r.data(u);if(!a){if(/destroy/.test(e))return;var l=t.extend({},r.data(),t.isPlainObject(e)&&e);a=new bt(n,l),r.data(u,a)}if("string"==typeof e){var c=a[e];t.isFunction(c)&&(s=c.apply(a,o))}}),i(s)?this:s},t.fn.cropper.Constructor=bt,t.fn.cropper.setDefaults=bt.setDefaults,
t.fn.cropper.noConflict=function(){return t.fn.cropper=xt,this}}}),function(t){"function"==typeof define&&define.amd?define(["jquery","window","document"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),window,document):t(jQuery,window,document)}(function(t,e,i,n){t.fn.on||(t.fn.on=function(t,e,i,n){return this.delegate(e,t,i,n)}),t.fn.dirtyForms=function(e){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.dirtyForms"):o.init.apply(this,arguments)};var o={init:function(n){var o={};return s.initialized||(t.extend(!0,t.DirtyForms,n),t(i).trigger("bind.dirtyforms",[u]),u.bind(e,i,o),s.initialized=!0),this.filter("form").not(":dirtylistening").each(function(){var e=t(this);e.find(t.DirtyForms.fieldSelector).each(function(){m(t(this))}),e.trigger("scan.dirtyforms"),u.bindForm(e,o)}),this},isDirty:function(e){var i=y(),n=t.DirtyForms.dirtyClass,o=!1;return this.each(function(r){var s=t(this),a=w(s,i);return s.hasClass(n)&&!a?(o=!0,!1):(s.find("."+n).each(function(){return w(t(this),i)?void 0:(o=!0,!1)}),!o&&(!(!a&&!e&&(t.each(t.DirtyForms.helpers,function(t,e){return e.isDirty&&e.isDirty(s,r)?(o=!0,!1):void 0}),o))&&void 0))}),o},setClean:function(e,i){var n=function(){var e=t(this);m(e),$(e,!1)};return p(this,t.DirtyForms.fieldSelector,e).each(n).parents("form").trigger("setclean.dirtyforms",[e]),i?this:f(this,"setClean",e,y())},rescan:function(e,i){var n=function(){var e=t(this);v(e)||m(e),$(e,b(e))};return p(this,t.DirtyForms.fieldSelector,e).each(n).parents("form").trigger("rescan.dirtyforms",[e]),i?this:f(this,"rescan",e,y())}};t.extend(t.expr[":"],{dirty:function(e){var i=t(e);return i.hasClass(t.DirtyForms.dirtyClass)&&!i.is(":dirtyignored")},dirtylistening:function(e){return t(e).hasClass(t.DirtyForms.listeningClass)},dirtyignored:function(e){return w(t(e),!1)}}),t.DirtyForms={message:"You've made changes on this page which aren't saved. If you leave you will lose these changes.",dirtyClass:"dirty",listeningClass:"dirtylisten",ignoreClass:"dirtyignore",ignoreSelector:"",fieldSelector:"input:not([type='button'],[type='image'],[type='submit'],[type='reset'],[type='file'],[type='search']),select,textarea",helpers:[],dialog:!1};var r,s={initialized:!1,formStash:!1,dialogStash:!1,deciding:!1,decidingEvent:!1},a=function(t){return t.data.bindEscKey&&27==t.which||t.data.bindEnterKey&&13==t.which?d(t,!1):void 0},l=function(e){var n=e.staySelector,o=e.proceedSelector;""!==n&&t(n).unbind("click",d).click(d),""!==o&&t(o).unbind("click",h).click(h),(e.bindEscKey||e.bindEnterKey)&&t(i).unbind("keydown",a).keydown(e,a)},c=function(e,i){t.isFunction(t.DirtyForms.dialog.close)&&t.DirtyForms.dialog.close(e,i)},h=function(t){return d(t,!0)},d=function(e,n){if(s.deciding){if(e.preventDefault(),!0===n){var o=s.decidingEvent;t(i).trigger("proceed.dirtyforms",[o]),u.clearUnload(),c(n,!1),E(o)}else{t(i).trigger("stay.dirtyforms");var r=!1!==t.DirtyForms.dialog&&!1!==s.dialogStash&&t.isFunction(t.DirtyForms.dialog.unstash);c(n,r),r&&t.DirtyForms.dialog.unstash(s.dialogStash,e),t(i).trigger("afterstay.dirtyforms")}return s.deciding=s.decidingEvent=s.dialogStash=s.formStash=!1,!1}},u={bind:function(e,i,n){t(e).bind("beforeunload",n,u.onBeforeUnload),t(i).on("click",'a:not([target="_blank"])',n,u.onAnchorClick).on("submit","form",n,u.onSubmit)},bindForm:function(e,n){var o=t.DirtyForms,r="onpropertychange"in i.createElement("input"),s="change input"+(r?" keyup selectionchange cut paste":"");e.addClass(o.listeningClass).on("focus keydown",o.fieldSelector,n,u.onFocus).on(s,o.fieldSelector,n,u.onFieldChange).bind("reset",n,u.onReset)},onFocus:function(e){var i=t(e.target);v(i)||m(i)},onFieldChange:function(e){var i=t(e.target);"change"!==e.type?C(function(){x(i)},100):x(i)},onReset:function(e){var i=t(e.target).closest("form");setTimeout(function(){i.dirtyForms("setClean")},100)},onAnchorClick:function(t){_(t)},onSubmit:function(t){_(t)},onBeforeUnload:function(t){var e=_(t);return e&&!0!==s.doubleunloadfix&&(s.deciding=!1),s.doubleunloadfix=!0,setTimeout(function(){s.doubleunloadfix=!1},200),"string"==typeof e?(t.returnValue=e,e):void 0},onRefireClick:function(e){var i=new t.Event("click");t(e.target).trigger(i),i.isDefaultPrevented()||u.onRefireAnchorClick(e)},onRefireAnchorClick:function(i){var o=t(i.target).closest("a[href]").attr("href");o!==n&&(e.location.href=o)},clearUnload:function(){t(e).unbind("beforeunload",u.onBeforeUnload),e.onbeforeunload=null,t(i).trigger("beforeunload.dirtyforms")}},p=function(t,e,i){var n=t.filter(e).add(t.find(e));return i&&(n=n.not(":dirtyignored")),n},f=function(e,i,n,o){return e.each(function(e){var r=t(this);n&&w(r,o)||t.each(t.DirtyForms.helpers,function(t,o){o[i]&&o[i](r,e,n)})})},g=function(e){var i;return e.is("select")?(i="",e.find("option").each(function(){var e=t(this);e.is(":selected")&&(i.length>0&&(i+=","),i+=e.val())})):i=e.is(":checkbox,:radio")?e.is(":checked"):e.val(),i},m=function(t){t.data("df-orig",g(t));var e=t.data("df-orig")===n;t.data("df-empty",e)},v=function(t){return t.data("df-orig")!==n||!0===t.data("df-empty")},y=function(){var e=t.DirtyForms,i=e.ignoreSelector;return t.each(e.helpers,function(t,e){"ignoreSelector"in e&&(i.length>0&&(i+=","),i+=e.ignoreSelector)}),i},w=function(e,i){return i||(i=y()),e.is(i)||e.closest("."+t.DirtyForms.ignoreClass).length>0},b=function(t,e){return!(!v(t)||w(t,e))&&g(t)!=t.data("df-orig")},x=function(e,i){if(!w(e,i))if(e.is(":radio[name]")){var n=e.attr("name"),o=e.parents("form");o.find(":radio[name='"+n+"']").each(function(){var e=t(this);$(e,b(e,i))})}else $(e,b(e,i))},$=function(e,i){var n=t.DirtyForms.dirtyClass,o=e.parents("form");e.toggleClass(n,i),i!==(o.hasClass(n)&&0===o.find(":dirty").length)&&(o.toggleClass(n,i),i&&o.trigger("dirty.dirtyforms"),i||o.trigger("clean.dirtyforms"))},C=function(){var t=0;return function(e,i){clearTimeout(t),t=setTimeout(e,i)}}(),_=function(e){var n=t(e.target),o=e.type,a=t.DirtyForms;if(e.isDefaultPrevented())return!1;if("beforeunload"==o&&s.doubleunloadfix)return s.doubleunloadfix=!1,!1;if(n.is(":dirtyignored"))return u.clearUnload(),!1;if(s.deciding)return!1;if(!t("form:dirtylistening").dirtyForms("isDirty"))return u.clearUnload(),!1;if("submit"==o&&n.dirtyForms("isDirty"))return u.clearUnload(),!0;if(t(i).trigger("defer.dirtyforms"),"beforeunload"==o)return a.message;if(a.dialog){e.preventDefault(),e.stopImmediatePropagation(),s.deciding=!0,s.decidingEvent=e,t.isFunction(a.dialog.stash)&&(s.dialogStash=a.dialog.stash());var c=a.dialog.stashSelector;"string"==typeof c&&n.is("form")&&n.parents(c).length>0?s.formStash=n.clone(!0).hide():s.formStash=!1,r={proceed:!1,commit:function(t){return d(t,r.proceed)},bindEscKey:!0,bindEnterKey:!1,proceedSelector:"",staySelector:""},a.dialog.open(r,a.message,a.ignoreClass),l(r)}},E=function(e){if("click"===e.type)u.onRefireClick(e);else{var i;s.formStash?(i=s.formStash,t("body").append(i)):i=t(e.target).closest("form"),i.trigger(e.type)}}}),function(t){"function"==typeof define&&define.amd?define(["jquery","window","document"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),window,document):t(jQuery,window,document)}(function(t,e,i,n){var o='<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> ';t.DirtyForms.dialog={title:o+"Are you sure you want to do that?",proceedButtonClass:"dirty-proceed",proceedButtonText:"Leave This Page",stayButtonClass:"dirty-stay",stayButtonText:"Stay Here",dialogID:"dirty-dialog",titleID:"dirty-title",messageClass:"dirty-message",preMessageText:"",postMessageText:"",replaceText:!0,open:function(e,i){var n=t("#"+this.dialogID);0===n.length&&(n=t('<div id="'+this.dialogID+'" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="'+this.titleID+'"><div class="modal-dialog" role="document"><div class="modal-content panel-danger"><div class="modal-header panel-heading"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h3 class="modal-title" id="'+this.titleID+'"></h3></div><div class="modal-body panel-body '+this.messageClass+'"></div><div class="modal-footer panel-footer"><button type="button" class="'+this.proceedButtonClass+' btn btn-danger" data-dismiss="modal"></button><button type="button" class="'+this.stayButtonClass+' btn btn-default" data-dismiss="modal"></button></div></div></div></div>'),t("body").append(n).data("df-dialog-appended",!0)),this.replaceText&&(n.find("#"+this.titleID).html(this.title),n.find("."+this.messageClass).html(this.preMessageText+i+this.postMessageText),n.find("."+this.proceedButtonClass).html(this.proceedButtonText),n.find("."+this.stayButtonClass).html(this.stayButtonText)),e.bindEscKey=!1;var o=function(){e.proceed=t.DirtyForms.choiceContinue=!0},r=function(i){(e.isDF1?t.DirtyForms.choiceCommit:e.commit)(i),!0===t("body").data("df-dialog-appended")&&n.remove()};n.find("."+this.proceedButtonClass).off("click",o).on("click",o),n.off("hidden.bs.modal",r).on("hidden.bs.modal",r),n.modal({show:!0})},fire:function(t,e){this.title=o+e,this.open({isDF1:!0},t)},bind:function(){},stash:function(){return!1},refire:function(){return!1},selector:"no-op"}}),function(t){"use strict";var e=function(t){var e=arguments,i=!0,n=1;return t=t.replace(/%s/g,function(){var t=e[n++];return void 0===t?(i=!1,""):t}),i?t:""},i=function(e,i){this.options=i,this.$element=t(e),this.isShown=!1,this.init()};i.DEFAULTS={placement:"after",white:!1,message:"Click here to show/hide password",eyeClass:"glyphicon",eyeOpenClass:"glyphicon-eye-open",eyeCloseClass:"glyphicon-eye-close",eyeClassPositionInside:!1},i.prototype.init=function(){var i,n;"before"===this.options.placement?(i="insertBefore",n="input-prepend"):(this.options.placement="after",i="insertAfter",n="input-append"),this.$element.wrap(e('<div class="%s input-group" />',n)),this.$text=t('<input type="text" />')[i](this.$element).attr("class",this.$element.attr("class")).attr("style",this.$element.attr("style")).attr("placeholder",this.$element.attr("placeholder")).css("display",this.$element.css("display")).val(this.$element.val()).hide(),this.$element.prop("readonly")&&this.$text.prop("readonly",!0),this.$icon=t(['<span tabindex="100" title="'+this.options.message+'" class="add-on input-group-addon">','<i class="icon-eye-open'+(this.options.white?" icon-white":"")+" "+this.options.eyeClass+" "+(this.options.eyeClassPositionInside?"":this.options.eyeOpenClass)+'">'+(this.options.eyeClassPositionInside?this.options.eyeOpenClass:"")+"</i>","</span>"].join(""))[i](this.$text).css("cursor","pointer"),this.$text.off("keyup").on("keyup",t.proxy(function(){this.isShown&&this.$element.val(this.$text.val()).trigger("change")},this)),this.$icon.off("click").on("click",t.proxy(function(){this.$text.val(this.$element.val()).trigger("change"),this.toggle()},this))},i.prototype.toggle=function(t){this[this.isShown?"hide":"show"](t)},i.prototype.show=function(e){var i=t.Event("show.bs.password",{relatedTarget:e});this.$element.trigger(i),this.isShown=!0,this.$element.hide(),this.$text.show(),this.options.eyeClassPositionInside?this.$icon.find("i").removeClass("icon-eye-open").addClass("icon-eye-close").html(this.options.eyeCloseClass):this.$icon.find("i").removeClass("icon-eye-open "+this.options.eyeOpenClass).addClass("icon-eye-close "+this.options.eyeCloseClass),this.$text[this.options.placement](this.$element)},i.prototype.hide=function(e){var i=t.Event("hide.bs.password",{relatedTarget:e});this.$element.trigger(i),this.isShown=!1,this.$element.show(),this.$text.hide(),this.options.eyeClassPositionInside?this.$icon.find("i").removeClass("icon-eye-close").addClass("icon-eye-open").html(this.options.eyeOpenClass):this.$icon.find("i").removeClass("icon-eye-close "+this.options.eyeCloseClass).addClass("icon-eye-open "+this.options.eyeOpenClass),this.$element[this.options.placement](this.$text)},i.prototype.val=function(t){return void 0===t?this.$element.val():(this.$element.val(t).trigger("change"),void this.$text.val(t))},i.prototype.focus=function(){this.$element.focus()};var n=t.fn.password;t.fn.password=function(){var e,n=arguments[0],o=arguments,r=["show","hide","toggle","val","focus"];return this.each(function(){var s=t(this),a=s.data("bs.password"),l=t.extend({},i.DEFAULTS,s.data(),"object"==typeof n&&n);if("string"==typeof n){if(t.inArray(n,r)<0)throw"Unknown method: "+n;e=a[n](o[1])}else a?a.init(l):(a=new i(s,l),s.data("bs.password",a))}),e||this},t.fn.password.Constructor=i,t.fn.password.noConflict=function(){return t.fn.password=n,this},t(function(){t('[data-toggle="password"]').password()})}(window.jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?i=e:e={};var t,i,n;!function(e){function o(t,e){return x.call(t,e)}function r(t,e){var i,n,o,r,s,a,l,c,h,d,u,p,f=e&&e.split("/"),g=w.map,m=g&&g["*"]||{};if(t){for(t=t.split("/"),s=t.length-1,w.nodeIdCompat&&C.test(t[s])&&(t[s]=t[s].replace(C,"")),"."===t[0].charAt(0)&&f&&(p=f.slice(0,f.length-1),t=p.concat(t)),h=0;h<t.length;h++)if("."===(u=t[h]))t.splice(h,1),h-=1;else if(".."===u){if(0===h||1===h&&".."===t[2]||".."===t[h-1])continue;h>0&&(t.splice(h-1,2),h-=2)}t=t.join("/")}if((f||m)&&g){for(i=t.split("/"),h=i.length;h>0;h-=1){if(n=i.slice(0,h).join("/"),f)for(d=f.length;d>0;d-=1)if((o=g[f.slice(0,d).join("/")])&&(o=o[n])){r=o,a=h;break}if(r)break;!l&&m&&m[n]&&(l=m[n],c=h)}!r&&l&&(r=l,a=c),r&&(i.splice(0,a,r),t=i.join("/"))}return t}function s(t,i){return function(){var n=$.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),f.apply(e,n.concat([t,i]))}}function a(t){return function(e){return r(e,t)}}function l(t){return function(e){v[t]=e}}function c(t){if(o(y,t)){var i=y[t];delete y[t],b[t]=!0,p.apply(e,i)}if(!o(v,t)&&!o(b,t))throw new Error("No "+t);return v[t]}function h(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function d(t){return t?h(t):[]}function u(t){return function(){return w&&w.config&&w.config[t]||{}}}var p,f,g,m,v={},y={},w={},b={},x=Object.prototype.hasOwnProperty,$=[].slice,C=/\.js$/;g=function(t,e){var i,n=h(t),o=n[0],s=e[1];return t=n[1],o&&(o=r(o,s),i=c(o)),o?t=i&&i.normalize?i.normalize(t,a(s)):r(t,s):(t=r(t,s),n=h(t),o=n[0],t=n[1],o&&(i=c(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:i}},m={require:function(t){return s(t)},exports:function(t){var e=v[t];return void 0!==e?e:v[t]={}},module:function(t){return{id:t,uri:"",exports:v[t],config:u(t)}}},p=function(t,i,n,r){var a,h,u,p,f,w,x,$=[],C=typeof n;if(r=r||t,w=d(r),"undefined"===C||"function"===C){for(i=!i.length&&n.length?["require","exports","module"]:i,f=0;f<i.length;f+=1)if(p=g(i[f],w),"require"===(h=p.f))$[f]=m.require(t);else if("exports"===h)$[f]=m.exports(t),x=!0;else if("module"===h)a=$[f]=m.module(t);else if(o(v,h)||o(y,h)||o(b,h))$[f]=c(h);else{if(!p.p)throw new Error(t+" missing "+h);p.p.load(p.n,s(r,!0),l(h),{}),$[f]=v[h]}u=n?n.apply(v[t],$):void 0,t&&(a&&a.exports!==e&&a.exports!==v[t]?v[t]=a.exports:u===e&&x||(v[t]=u))}else t&&(v[t]=n)},t=i=f=function(t,i,n,o,r){if("string"==typeof t)return m[t]?m[t](i):c(g(t,d(i)).f);if(!t.splice){if(w=t,w.deps&&f(w.deps,w.callback),!i)return;i.splice?(t=i,i=n,n=null):t=e}return i=i||function(){},"function"==typeof n&&(n=o,o=r),o?p(e,t,i,n):setTimeout(function(){p(e,t,i,n)},4),f},f.config=function(t){return f(t)},t._defined=v,n=function(t,e,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(i=e,e=[]),o(v,t)||o(y,t)||(y[t]=[t,e,i])},n.amd={jQuery:!0}}(),e.requirejs=t,e.require=i,e.define=n}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error,e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,i=[];for(var n in e)"function"==typeof e[n]&&"constructor"!==n&&i.push(n);return i}var i={};i.Extend=function(t,e){function i(){this.constructor=t}var n={}.hasOwnProperty;for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},i.Decorate=function(t,i){function n(){var e=Array.prototype.unshift,n=i.prototype.constructor.length,o=t.prototype.constructor;n>0&&(e.call(arguments,t.prototype.constructor),o=i.prototype.constructor),o.apply(this,arguments)}function o(){this.constructor=n}var r=e(i),s=e(t);i.displayName=t.displayName,n.prototype=new o;for(var a=0;a<s.length;a++){var l=s[a];n.prototype[l]=t.prototype[l]}for(var c=0;c<r.length;c++){var h=r[c];n.prototype[h]=function(t){var e=function(){};t in n.prototype&&(e=n.prototype[t]);var o=i.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),o.apply(this,arguments)}}(h)}return n};var n=function(){this.listeners={}};n.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},n.prototype.trigger=function(t){var e=Array.prototype.slice,i=e.call(arguments,1);this.listeners=this.listeners||{},null==i&&(i=[]),0===i.length&&i.push({}),i[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(t,e){for(var i=0,n=t.length;i<n;i++)t[i].apply(this,e)},i.Observable=n,i.generateChars=function(t){for(var e="",i=0;i<t;i++)e+=Math.floor(36*Math.random()).toString(36);return e},i.bind=function(t,e){return function(){t.apply(e,arguments)}},i._convertData=function(t){for(var e in t){var i=e.split("-"),n=t;if(1!==i.length){for(var o=0;o<i.length;o++){var r=i[o];r=r.substring(0,1).toLowerCase()+r.substring(1),r in n||(n[r]={}),o==i.length-1&&(n[r]=t[e]),n=n[r]}delete t[e]}}return t},i.hasScroll=function(e,i){var n=t(i),o=i.style.overflowX,r=i.style.overflowY;return(o!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===o||"scroll"===r||n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth)},i.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},i.appendMany=function(e,i){if("1.7"===t.fn.jquery.substr(0,3)){var n=t();t.map(i,function(t){n=n.add(t)}),i=n}e.append(i)},i.__cache={};var o=0;return i.GetUniqueElementId=function(t){var e=t.getAttribute("data-select2-id");return null==e&&(t.id?(e=t.id,t.setAttribute("data-select2-id",e)):(t.setAttribute("data-select2-id",++o),e=o.toString())),e},i.StoreData=function(t,e,n){var o=i.GetUniqueElementId(t);i.__cache[o]||(i.__cache[o]={}),i.__cache[o][e]=n},i.GetData=function(e,n){var o=i.GetUniqueElementId(e);return n?i.__cache[o]&&null!=i.__cache[o][n]?i.__cache[o][n]:t(e).data(n):i.__cache[o]},i.RemoveData=function(t){var e=i.GetUniqueElementId(t);null!=i.__cache[e]&&delete i.__cache[e]},i}),e.define("select2/results",["jquery","./utils"],function(t,e){function i(t,e,n){this.$element=t,this.data=n,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(e.message);n.append(i(o(e.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var n=t.results[i],o=this.option(n);e.push(o)}this.$results.append(e)},i.prototype.position=function(t,e){e.find(".select2-results").append(t)},i.prototype.sort=function(t){return this.options.get("sorter")(t)},i.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var i=this;this.data.current(function(n){var o=t.map(n,function(t){return t.id.toString()});i.$results.find(".select2-results__option[aria-selected]").each(function(){var i=t(this),n=e.GetData(this,"data"),r=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(r,o)>-1?i.attr("aria-selected","true"):i.attr("aria-selected","false")})})},i.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),i={disabled:!0,loading:!0,text:e(t)},n=this.option(i);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(i){var n=document.createElement("li");n.className="select2-results__option";var o={role:"treeitem","aria-selected":"false"};i.disabled&&(delete o["aria-selected"],o["aria-disabled"]="true"),null==i.id&&delete o["aria-selected"],null!=i._resultId&&(n.id=i._resultId),i.title&&(n.title=i.title),i.children&&(o.role="group",o["aria-label"]=i.text,delete o["aria-selected"]);for(var r in o){var s=o[r];n.setAttribute(r,s)}if(i.children){var a=t(n),l=document.createElement("strong");l.className="select2-results__group",t(l),this.template(i,l);for(var c=[],h=0;h<i.children.length;h++){var d=i.children[h],u=this.option(d);c.push(u)}var p=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});p.append(c),a.append(l),a.append(p)}else this.template(i,n);return e.StoreData(n,"data",i),n},i.prototype.bind=function(i,n){var o=this,r=i.id+"-results";this.$results.attr("id",r),i.on("results:all",function(t){o.clear(),o.append(t.data),i.isOpen()&&(o.setClasses(),o.highlightFirstItem())}),i.on("results:append",function(t){o.append(t.data),i.isOpen()&&o.setClasses()}),i.on("query",function(t){o.hideMessages(),o.showLoading(t)}),i.on("select",function(){i.isOpen()&&(o.setClasses(),o.highlightFirstItem())}),i.on("unselect",function(){i.isOpen()&&(o.setClasses(),o.highlightFirstItem())}),i.on("open",function(){o.$results.attr("aria-expanded","true"),o.$results.attr("aria-hidden","false"),o.setClasses(),o.ensureHighlightVisible()}),i.on("close",function(){o.$results.attr("aria-expanded","false"),o.$results.attr("aria-hidden","true"),o.$results.removeAttr("aria-activedescendant")}),i.on("results:toggle",function(){var t=o.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),i.on("results:select",function(){var t=o.getHighlightedResults();if(0!==t.length){var i=e.GetData(t[0],"data");"true"==t.attr("aria-selected")?o.trigger("close",{}):o.trigger("select",{data:i})}}),i.on("results:previous",function(){var t=o.getHighlightedResults(),e=o.$results.find("[aria-selected]"),i=e.index(t);if(!(i<=0)){var n=i-1;0===t.length&&(n=0);var r=e.eq(n);r.trigger("mouseenter");var s=o.$results.offset().top,a=r.offset().top,l=o.$results.scrollTop()+(a-s);0===n?o.$results.scrollTop(0):a-s<0&&o.$results.scrollTop(l)}}),i.on("results:next",function(){var t=o.getHighlightedResults(),e=o.$results.find("[aria-selected]"),i=e.index(t),n=i+1;if(!(n>=e.length)){var r=e.eq(n);r.trigger("mouseenter");var s=o.$results.offset().top+o.$results.outerHeight(!1),a=r.offset().top+r.outerHeight(!1),l=o.$results.scrollTop()+a-s;0===n?o.$results.scrollTop(0):a>s&&o.$results.scrollTop(l)}}),i.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),i.on("results:message",function(t){o.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=o.$results.scrollTop(),i=o.$results.get(0).scrollHeight-e+t.deltaY,n=t.deltaY>0&&e-t.deltaY<=0,r=t.deltaY<0&&i<=o.$results.height();n?(o.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):r&&(o.$results.scrollTop(o.$results.get(0).scrollHeight-o.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(i){var n=t(this),r=e.GetData(this,"data");if("true"===n.attr("aria-selected"))return void(o.options.get("multiple")?o.trigger("unselect",{originalEvent:i,data:r}):o.trigger("close",{}));o.trigger("select",{originalEvent:i,data:r})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(i){var n=e.GetData(this,"data");o.getHighlightedResults().removeClass("select2-results__option--highlighted"),o.trigger("results:focus",{data:n,element:t(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),i=e.index(t),n=this.$results.offset().top,o=t.offset().top,r=this.$results.scrollTop()+(o-n),s=o-n;r-=2*t.outerHeight(!1),i<=2?this.$results.scrollTop(0):(s>this.$results.outerHeight()||s<0)&&this.$results.scrollTop(r)}},i.prototype.template=function(e,i){var n=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),r=n(e,i);null==r?i.style.display="none":"string"==typeof r?i.innerHTML=o(r):t(i).append(r)},i}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var i=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=e.GetData(this.$element[0],"old-tabindex")?this._tabindex=e.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),i.attr("title",this.$element.attr("title")),i.attr("tabindex",this._tabindex),this.$selection=i,i},n.prototype.bind=function(t,e){var n=this,o=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){n.trigger("focus",t)}),this.$selection.on("blur",function(t){n._handleBlur(t)}),this.$selection.on("keydown",function(t){n.trigger("keypress",t),t.which===i.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){n.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){n.update(t.data)}),t.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",o),n._attachCloseHandler(t)}),t.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),window.setTimeout(function(){n.$selection.focus()},0),n._detachCloseHandler(t)}),t.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),t.on("disable",function(){n.$selection.attr("tabindex","-1")})},n.prototype._handleBlur=function(e){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||t.contains(i.$selection[0],document.activeElement)||i.trigger("blur",e)},1)},n.prototype._attachCloseHandler=function(i){t(document.body).on("mousedown.select2."+i.id,function(i){var n=t(i.target),o=n.closest(".select2");t(".select2.select2-container--open").each(function(){t(this),this!=o[0]&&e.GetData(this,"element").select2("close")})})},n.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},n.prototype.position=function(t,e){e.find(".selection").append(t)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},n}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,i,n){function o(){o.__super__.constructor.apply(this,arguments)}return i.Extend(o,e),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},o.prototype.bind=function(t,e){var i=this;o.__super__.bind.apply(this,arguments);var n=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(t){1===t.which&&i.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),t.on("focus",function(e){t.isOpen()||i.$selection.focus()})},o.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},o.prototype.display=function(t,e){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(t,e))},o.prototype.selectionContainer=function(){return t("<span></span>")},o.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(e,i);i.empty().append(n),i.attr("title",e.title||e.text)},o}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,i){function n(t,e){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},n.prototype.bind=function(e,o){var r=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){r.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!r.options.get("disabled")){var n=t(this),o=n.parent(),s=i.GetData(o[0],"data");r.trigger("unselect",{originalEvent:e,data:s})}})},n.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},n.prototype.display=function(t,e){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(t,e))},n.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},n.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var o=t[n],r=this.selectionContainer(),s=this.display(o,r);r.append(s),r.attr("title",o.title||o.text),i.StoreData(r[0],"data",o),e.push(r)}var a=this.$selection.find(".select2-selection__rendered");i.appendMany(a,e)}},n}),e.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),
i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},e.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||i)return t.call(this,e);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},e}),e.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(t,e,i){function n(){}return n.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error,this.$selection.on("mousedown",".select2-selection__clear",function(t){n._handleClear(t)}),e.on("keypress",function(t){n._handleKeyboardClear(t,e)})},n.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();var o=i.GetData(n[0],"data"),r=this.$element.val();this.$element.val(this.placeholder.id);var s={data:o};if(this.trigger("clear",s),s.prevented)return void this.$element.val(r);for(var a=0;a<o.length;a++)if(s={data:o[a]},this.trigger("unselect",s),s.prevented)return void this.$element.val(r);this.$element.trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(t,i,n){n.isOpen()||i.which!=e.DELETE&&i.which!=e.BACKSPACE||this._handleClear(i)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var o=t('<span class="select2-selection__clear">&times;</span>');i.StoreData(o[0],"data",n),this.$selection.find(".select2-selection__rendered").prepend(o)}},n}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,i){function n(t,e,i){t.call(this,e,i)}return n.prototype.render=function(e){var i=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=e.call(this);return this._transferTabIndex(),n},n.prototype.bind=function(t,n,o){var r=this;t.call(this,n,o),n.on("open",function(){r.$search.trigger("focus")}),n.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),n.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),n.on("disable",function(){r.$search.prop("disabled",!0)}),n.on("focus",function(t){r.$search.trigger("focus")}),n.on("results:focus",function(t){r.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){r.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){r._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented(),t.which===i.BACKSPACE&&""===r.$search.val()){var n=r.$searchContainer.prev(".select2-selection__choice");if(n.length>0){var o=e.GetData(n[0],"data");r.searchRemoveChoice(o),t.preventDefault()}}});var s=document.documentMode,a=s&&s<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){if(a)return void r.$selection.off("input.search input.searchcheck");r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(a&&"input"===t.type)return void r.$selection.off("input.search input.searchcheck");var e=t.which;e!=i.SHIFT&&e!=i.CTRL&&e!=i.ALT&&e!=i.TAB&&r.handleSearch(t)})},n.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},n.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},n.prototype.update=function(t,e){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&(this.$element.find("[data-select2-tag]").length?this.$element.focus():this.$search.focus())},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";t=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").innerWidth():.75*(this.$search.val().length+1)+"em",this.$search.css("width",t)},n}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,i,n){var o=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],s=["opening","closing","selecting","unselecting","clearing"];e.call(this,i,n),i.on("*",function(e,i){if(-1!==t.inArray(e,r)){i=i||{};var n=t.Event("select2:"+e,{params:i});o.$element.trigger(n),-1!==t.inArray(e,s)&&(i.prevented=n.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(t){if(!(t in i._cache)){var n=e(t);i._cache[t]=n}return new i(i._cache[t])},i}),e.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}}),e.define("select2/data/base",["../utils"],function(t){function e(t,i){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,i){var n=e.id+"-result-";return n+=t.generateChars(4),null!=i.id?n+="-"+i.id.toString():n+="-"+t.generateChars(4),n},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,t),n.prototype.current=function(t){var e=[],n=this;this.$element.find(":selected").each(function(){var t=i(this),o=n.item(t);e.push(o)}),t(e)},n.prototype.select=function(t){var e=this;if(t.selected=!0,i(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var o=[];t=[t],t.push.apply(t,n);for(var r=0;r<t.length;r++){var s=t[r].id;-1===i.inArray(s,o)&&o.push(s)}e.$element.val(o),e.$element.trigger("change")});else{var n=t.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,i(t.element).is("option"))return t.element.selected=!1,void this.$element.trigger("change");this.current(function(n){for(var o=[],r=0;r<n.length;r++){var s=n[r].id;s!==t.id&&-1===i.inArray(s,o)&&o.push(s)}e.$element.val(o),e.$element.trigger("change")})}},n.prototype.bind=function(t,e){var i=this;this.container=t,t.on("select",function(t){i.select(t.data)}),t.on("unselect",function(t){i.unselect(t.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){e.RemoveData(this)})},n.prototype.query=function(t,e){var n=[],o=this;this.$element.children().each(function(){var e=i(this);if(e.is("option")||e.is("optgroup")){var r=o.item(e),s=o.matches(t,r);null!==s&&n.push(s)}}),e({results:n})},n.prototype.addOptions=function(t){e.appendMany(this.$element,t)},n.prototype.option=function(t){var n;t.children?(n=document.createElement("optgroup"),n.label=t.text):(n=document.createElement("option"),void 0!==n.textContent?n.textContent=t.text:n.innerText=t.text),void 0!==t.id&&(n.value=t.id),t.disabled&&(n.disabled=!0),t.selected&&(n.selected=!0),t.title&&(n.title=t.title);var o=i(n),r=this._normalizeItem(t);return r.element=n,e.StoreData(n,"data",r),o},n.prototype.item=function(t){var n={};if(null!=(n=e.GetData(t[0],"data")))return n;if(t.is("option"))n={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){n={text:t.prop("label"),children:[],title:t.prop("title")};for(var o=t.children("option"),r=[],s=0;s<o.length;s++){var a=i(o[s]),l=this.item(a);r.push(l)}n.children=r}return n=this._normalizeItem(n),n.element=t[0],e.StoreData(t[0],"data",n),n},n.prototype._normalizeItem=function(t){t!==Object(t)&&(t={id:t,text:t}),t=i.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),i.extend({},e,t)},n.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,i){function n(t,e){var i=e.get("data")||[];n.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(i))}return e.Extend(n,t),n.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,i){return i.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),n.__super__.select.call(this,t)},n.prototype.convertToOptions=function(t){for(var n=this,o=this.$element.find("option"),r=o.map(function(){return n.item(i(this)).id}).get(),s=[],a=0;a<t.length;a++){var l=this._normalizeItem(t[a]);if(i.inArray(l.id,r)>=0){var c=o.filter(function(t){return function(){return i(this).val()==t.id}}(l)),h=this.item(c),d=i.extend(!0,{},l,h),u=this.option(d);c.replaceWith(u)}else{var p=this.option(l);if(l.children){var f=this.convertToOptions(l.children);e.appendMany(p,f)}s.push(p)}}return s},n}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,i){function n(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){var e={data:function(t){return i.extend({},t,{q:t.term})},transport:function(t,e,n){var o=i.ajax(t);return o.then(e),o.fail(n),o}};return i.extend({},e,t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(t,e){function n(){var n=r.transport(r,function(n){var r=o.processResults(n,t);o.options.get("debug")&&window.console&&console.error&&r&&r.results&&i.isArray(r.results),e(r)},function(){"status"in n&&(0===n.status||"0"===n.status)||o.trigger("results:message",{message:"errorLoading"})});o._request=n}var o=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url.call(this.$element,t)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(n,this.ajaxOptions.delay)):n()},n}),e.define("select2/data/tags",["jquery"],function(t){function e(e,i,n){var o=n.get("tags"),r=n.get("createTag");void 0!==r&&(this.createTag=r);var s=n.get("insertTag");if(void 0!==s&&(this.insertTag=s),e.call(this,i,n),t.isArray(o))for(var a=0;a<o.length;a++){var l=o[a],c=this._normalizeItem(l),h=this.option(c);this.$element.append(h)}}return e.prototype.query=function(t,e,i){function n(t,r){for(var s=t.results,a=0;a<s.length;a++){var l=s[a],c=null!=l.children&&!n({results:l.children},!0);if((l.text||"").toUpperCase()===(e.term||"").toUpperCase()||c)return!r&&(t.data=s,void i(t))}if(r)return!0;var h=o.createTag(e);if(null!=h){var d=o.option(h);d.attr("data-select2-tag",!0),o.addOptions([d]),o.insertTag(s,h)}t.results=s,i(t)}var o=this;if(this._removeOldTags(),null==e.term||null!=e.page)return void t.call(this,e,i);t.call(this,e,n)},e.prototype.createTag=function(e,i){var n=t.trim(i.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(t,e,i){e.unshift(i)},e.prototype._removeOldTags=function(e){this._lastTag,this.$element.find("option[data-select2-tag]").each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),t.call(this,e,i)}return e.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},e.prototype.query=function(e,i,n){function o(e){var i=s._normalizeItem(e);if(!s.$element.find("option").filter(function(){return t(this).val()===i.id}).length){var n=s.option(i);n.attr("data-select2-tag",!0),s._removeOldTags(),s.addOptions([n])}r(i)}function r(t){s.trigger("select",{data:t})}var s=this;i.term=i.term||"";var a=this.tokenizer(i,this.options,o);a.term!==i.term&&(this.$search.length&&(this.$search.val(a.term),this.$search.focus()),i.term=a.term),e.call(this,i,n)},e.prototype.tokenizer=function(e,i,n,o){for(var r=n.get("tokenSeparators")||[],s=i.term,a=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};a<s.length;){var c=s[a];if(-1!==t.inArray(c,r)){var h=s.substr(0,a),d=t.extend({},i,{term:h}),u=l(d);null!=u?(o(u),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){if(e.term=e.term||"",e.term.length<this.minimumInputLength)return void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}});t.call(this,e,i)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){if(e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength)return void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}});t.call(this,e,i)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){var n=this;this.current(function(o){var r=null!=o?o.length:0;if(n.maximumSelectionLength>0&&r>=n.maximumSelectionLength)return void n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}});t.call(n,e,i)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},i.prototype.bind=function(){},i.prototype.position=function(t,e){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),e.define("select2/dropdown/search",["jquery","../utils"],function(t,e){function i(){}return i.prototype.render=function(e){var i=e.call(this),n=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},i.prototype.bind=function(e,i,n){var o=this;e.call(this,i,n),this.$search.on("keydown",function(t){o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(e){t(this).off("keyup")}),this.$search.on("keyup input",function(t){o.handleSearch(t)}),i.on("open",function(){o.$search.attr("tabindex",0),o.$search.focus(),window.setTimeout(function(){o.$search.focus()},0)}),i.on("close",function(){o.$search.attr("tabindex",-1),o.$search.val(""),o.$search.blur()}),i.on("focus",function(){i.isOpen()||o.$search.focus()}),i.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(o.showSearch(t)?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide"))})},i.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.showSearch=function(t,e){return!0},i}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,n)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),n=e.length-1;n>=0;n--){var o=e[n];this.placeholder.id===o.id&&i.splice(n,1)}return i},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,i,n){this.lastParams={},t.call(this,e,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,i,n){var o=this;e.call(this,i,n),i.on("query",function(t){o.lastParams=t,o.loading=!0}),i.on("query:append",function(t){o.lastParams=t,o.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,o.$loadingMore[0]);!o.loading&&e&&o.$results.offset().top+o.$results.outerHeight(!1)+50>=o.$loadingMore.offset().top+o.$loadingMore.outerHeight(!1)&&o.loadMore()})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),i=this.options.get("translations").get("loadingMore");return e.html(i(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function i(e,i,n){this.$dropdownParent=n.get("dropdownParent")||t(document.body),e.call(this,i,n)}return i.prototype.bind=function(t,e,i){var n=this,o=!1;t.call(this,e,i),e.on("open",function(){n._showDropdown(),n._attachPositioningHandler(e),o||(o=!0,e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),e.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},i.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},i.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(e){var i=t("<span></span>"),n=e.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i,n){var o=this,r="scroll.select2."+n.id,s="resize.select2."+n.id,a="orientationchange.select2."+n.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){e.StoreData(this,"select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(r,function(i){var n=e.GetData(this,"select2-scroll-position");t(this).scrollTop(n.y)}),t(window).on(r+" "+s+" "+a,function(t){o._positionDropdown(),o._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,n){var o="scroll.select2."+n.id,r="resize.select2."+n.id,s="orientationchange.select2."+n.id;this.$container.parents().filter(e.hasScroll).off(o),t(window).off(o+" "+r+" "+s)},i.prototype._positionDropdown=function(){var e=t(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),o=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=r.top,s.bottom=r.top+s.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},c=l.top<r.top-a.height,h=l.bottom>r.bottom+a.height,d={left:r.left,top:s.bottom},u=this.$dropdownParent;"static"===u.css("position")&&(u=u.offsetParent());var p=u.offset();d.top-=p.top,d.left-=p.left,i||n||(o="below"),h||!c||i?!c&&h&&i&&(o="below"):o="above",("above"==o||i&&"below"!==o)&&(d.top=s.top-p.top-a.height),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(d)},i.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},i.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var i=0,n=0;n<e.length;n++){var o=e[n];o.children?i+=t(o.children):i++}return i}function e(t,e,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,i,n)}return e.prototype.showSearch=function(e,i){return!(t(i.data.results)<this.minimumResultsForSearch)&&e.call(this,i)},e}),e.define("select2/dropdown/selectOnClose",["../utils"],function(t){function e(){}return e.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("close",function(t){n._handleSelectOnClose(t)})},e.prototype._handleSelectOnClose=function(e,i){if(i&&null!=i.originalSelect2Event){var n=i.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var o=this.getHighlightedResults();if(!(o.length<1)){var r=t.GetData(o[0],"data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},e}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(t){n._selectTriggered(t)}),e.on("unselect",function(t){n._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&i.ctrlKey||this.trigger("close",{originalEvent:i,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,i="Please delete "+e+" character";return 1!=e&&(i+="s"),i},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,i,n,o,r,s,a,l,c,h,d,u,p,f,g,m,v,y,w,b,x,$,C,_,E,A,D,k){function S(){this.reset()}return S.prototype.apply=function(d){if(d=t.extend(!0,{},this.defaults,d),null==d.dataAdapter){if(null!=d.ajax?d.dataAdapter=f:null!=d.data?d.dataAdapter=p:d.dataAdapter=u,d.minimumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,y)),d.maximumSelectionLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,w)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,g)),null==d.tokenSeparators&&null==d.tokenizer||(d.dataAdapter=c.Decorate(d.dataAdapter,m)),null!=d.query){var k=e(d.amdBase+"compat/query");d.dataAdapter=c.Decorate(d.dataAdapter,k)}if(null!=d.initSelection){var S=e(d.amdBase+"compat/initSelection");d.dataAdapter=c.Decorate(d.dataAdapter,S)}}if(null==d.resultsAdapter&&(d.resultsAdapter=i,
null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,C)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,$)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,A))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=b;else{var T=c.Decorate(b,x);d.dropdownAdapter=T}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,E)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,D)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var M=e(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=c.Decorate(d.dropdownAdapter,M)}d.dropdownAdapter=c.Decorate(d.dropdownAdapter,_)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=o:d.selectionAdapter=n,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,r)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,a)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var O=e(d.amdBase+"compat/containerCss");d.selectionAdapter=c.Decorate(d.selectionAdapter,O)}d.selectionAdapter=c.Decorate(d.selectionAdapter,l)}if("string"==typeof d.language)if(d.language.indexOf("-")>0){var L=d.language.split("-"),j=L[0];d.language=[d.language,j]}else d.language=[d.language];if(t.isArray(d.language)){var q=new h;d.language.push("en");for(var B=d.language,I=0;I<B.length;I++){var P=B[I],R={};try{R=h.loadPath(P)}catch(t){try{P=this.defaults.amdLanguageBase+P,R=h.loadPath(P)}catch(t){d.debug&&window.console&&console.warn;continue}}q.extend(R)}d.translations=q}else{var H=h.loadPath(this.defaults.amdLanguageBase+"en"),F=new h(d.language);F.extend(H),d.translations=F}return d},S.prototype.reset=function(){function e(t){function e(t){return d[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function i(n,o){if(""===t.trim(n.term))return o;if(o.children&&o.children.length>0){for(var r=t.extend(!0,{},o),s=o.children.length-1;s>=0;s--)null==i(n,o.children[s])&&r.children.splice(s,1);return r.children.length>0?r:i(n,r)}var a=e(o.text).toUpperCase(),l=e(n.term).toUpperCase();return a.indexOf(l)>-1?o:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:k,matcher:i,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},S.prototype.set=function(e,i){var n=t.camelCase(e),o={};o[n]=i;var r=c._convertData(o);t.extend(!0,this.defaults,r)},new S}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,i,n){function o(e,o){if(this.options=e,null!=o&&this.fromElement(o),this.options=i.apply(this.options),o&&o.is("input")){var r=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,r)}}return o.prototype.fromElement=function(t){var i=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),n.GetData(t[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn,n.StoreData(t[0],"data",n.GetData(t[0],"select2Tags")),n.StoreData(t[0],"tags",!0)),n.GetData(t[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn,t.attr("ajax--url",n.GetData(t[0],"ajaxUrl")),n.StoreData(t[0],"ajax-Url",n.GetData(t[0],"ajaxUrl")));var o={};o=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,n.GetData(t[0])):n.GetData(t[0]);var r=e.extend(!0,{},o);r=n._convertData(r);for(var s in r)e.inArray(s,i)>-1||(e.isPlainObject(this.options[s])?e.extend(this.options[s],r[s]):this.options[s]=r[s]);return this},o.prototype.get=function(t){return this.options[t]},o.prototype.set=function(t,e){this.options[t]=e},o}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,i,n){var o=function(t,n){null!=i.GetData(t[0],"select2")&&i.GetData(t[0],"select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),o.__super__.constructor.call(this);var r=t.attr("tabindex")||0;i.StoreData(t[0],"old-tabindex",r),t.attr("tabindex","-1");var s=this.options.get("dataAdapter");this.dataAdapter=new s(t,this.options);var a=this.render();this._placeContainer(a);var l=this.options.get("selectionAdapter");this.selection=new l(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var c=this.options.get("dropdownAdapter");this.dropdown=new c(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var h=this.options.get("resultsAdapter");this.results=new h(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){d.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),i.StoreData(t[0],"select2",this),t.data("select2",this)};return i.Extend(o,i.Observable),o.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+i.generateChars(2):i.generateChars(4),e=e.replace(/(:|\.|\[|\]|,)/g,""),e="select2-"+e},o.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},o.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var n=this._resolveWidth(t,"style");return null!=n?n:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"==e){var r=t.attr("style");if("string"!=typeof r)return null;for(var s=r.split(";"),a=0,l=s.length;a<l;a+=1){var c=s[a].replace(/\s/g,""),h=c.match(i);if(null!==h&&h.length>=1)return h[1]}return null}return e},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=i.bind(this._syncAttributes,this),this._syncS=i.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(i){t.each(i,e._syncA),t.each(i,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},o.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerSelectionEvents=function(){var e=this,i=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(n,o){-1===t.inArray(n,i)&&e.trigger(n,o)})},o.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(i){t.trigger("results:all",{data:i,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(i){t.trigger("results:append",{data:i,query:e})})}),this.on("keypress",function(e){var i=e.which;t.isOpen()?i===n.ESC||i===n.TAB||i===n.UP&&e.altKey?(t.close(),e.preventDefault()):i===n.ENTER?(t.trigger("results:select",{}),e.preventDefault()):i===n.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):i===n.UP?(t.trigger("results:previous",{}),e.preventDefault()):i===n.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(i===n.ENTER||i===n.SPACE||i===n.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._syncSubtree=function(t,e){var i=!1,n=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&e.addedNodes.length>0)for(var o=0;o<e.addedNodes.length;o++){var r=e.addedNodes[o];r.selected&&(i=!0)}else e.removedNodes&&e.removedNodes.length>0&&(i=!0);else i=!0;i&&this.dataAdapter.current(function(t){n.trigger("selection:update",{data:t})})}},o.prototype.trigger=function(t,e){var i=o.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===e&&(e={}),t in n){var r=n[t],s={prevented:!1,name:t,args:e};if(i.call(this,r,s),s.prevented)return void(e.prevented=!0)}i.call(this,t,e)},o.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.trigger("query",{})},o.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn,null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn;var t=[];return this.dataAdapter.current(function(e){t=e}),t},o.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn,null==e||0===e.length)return this.$element.val();var i=e[0];t.isArray(i)&&(i=t.map(i,function(t){return t.toString()})),this.$element.val(i).trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",i.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),i.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),i.StoreData(e[0],"element",this.$element),e},o}),e.define("jquery-mousewheel",["jquery"],function(t){return t}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(t,e,i,n,o){if(null==t.fn.select2){var r=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var n=t.extend(!0,{},e);new i(t(this),n)}),this;if("string"==typeof e){var n,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=o.GetData(this,"select2");null==t&&window.console&&console.error,n=t[e].apply(t,s)}),t.inArray(e,r)>-1?this:n}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=n),i}),{define:e.define,require:e.require}}(),i=e.require("jquery.select2");return t.fn.select2.amd=e,i}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){return o(e[s][1][t]||t)},h,h.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){function n(t,e){for(;t&&t.nodeType!==o;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var o=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=n},{}],2:[function(t,e,i){function n(t,e,i,n,r){var s=o.apply(this,arguments);return t.addEventListener(i,s,r),{destroy:function(){t.removeEventListener(i,s,r)}}}function o(t,e,i,n){return function(i){i.delegateTarget=r(i.target,e),i.delegateTarget&&n.call(t,i)}}var r=t("./closest");e.exports=n},{"./closest":1}],3:[function(t,e,i){i.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},i.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||i.node(t[0]))},i.string=function(t){return"string"==typeof t||t instanceof String},i.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,i){function n(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(i))throw new TypeError("Third argument must be a Function");if(a.node(t))return o(t,e,i);if(a.nodeList(t))return r(t,e,i);if(a.string(t))return s(t,e,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(t,e,i){return t.addEventListener(e,i),{destroy:function(){t.removeEventListener(e,i)}}}function r(t,e,i){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,i)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,i)})}}}function s(t,e,i){return l(document.body,t,e,i)}var a=t("./is"),l=t("delegate");e.exports=n},{"./is":3,delegate:2}],5:[function(t,e,i){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var i=t.hasAttribute("readonly");i||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),i||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(t),n.removeAllRanges(),n.addRange(o),e=n.toString()}return e}e.exports=n},{}],6:[function(t,e,i){function n(){}n.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){function n(){o.off(t,n),e.apply(i,arguments)}var o=this;return n._=e,this.on(t,n,i)},emit:function(t){var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,o=i.length;for(n;n<o;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],o=[];if(n&&e)for(var r=0,s=n.length;r<s;r++)n[r].fn!==e&&n[r].fn._!==e&&o.push(n[r]);return o.length?i[t]=o:delete i[t],this}},e.exports=n},{}],7:[function(e,i,n){!function(o,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if(void 0!==n)r(i,e("select"));else{var s={exports:{}};r(s,o.select),o.clipboardAction=s.exports}}(this,function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(t){return t&&t.__esModule?t:{default:t}}(e),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e){i(this,t),this.resolveOptions(e),this.initSelection()}return r(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s})},{select:5}],8:[function(e,i,n){!function(o,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if(void 0!==n)r(i,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var s={exports:{}};r(s,o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=s.exports}}(this,function(t,e,i,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}var c=o(e),h=o(i),d=o(n),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),f=function(t){function e(t,i){r(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.resolveOptions(i),n.listenClick(t),n}return a(e,t),p(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===u(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,d.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return l("action",t)}},{key:"defaultTarget",value:function(t){var e=l("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return l("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,i=!!document.queryCommandSupported;return e.forEach(function(t){i=i&&!!document.queryCommandSupported(t)}),i}}]),e}(h.default);t.exports=f})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});